<!doctype html>
<html lang="es">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <!-- SEO Meta Tags -->
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://profesionfeliz.com/contacto-test.html">
  
  <!-- Common Social Media Image -->
  <meta property="og:image" content="./assets/img/pf_img/logopf.png">
  <meta name="twitter:image" content="./assets/img/pf_img/logopf.png">
  
  <!-- Favicon -->
  <link rel="shortcut icon" href="./assets/favicon/favicon.ico" type="image/x-icon"/>
  
  <!-- Font -->
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=HK+Grotesk:wght@400;600;700&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=HK+Grotesk:wght@400;600;700&display=swap">
  
  <!-- Landkit CSS -->
  <link rel="stylesheet" href="./assets/css/theme.bundle.css">
  
  <!-- Schema.org markup -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "EducationalOrganization",
    "name": "Profesión Feliz",
    "description": "Servicio profesional de orientación vocacional",
    "url": "https://profesionfeliz.com",
    "logo": "https://profesionfeliz.com/assets/img/pf_img/logopf.png",
    "sameAs": [
      "https://www.facebook.com/profesionfeliz",
      "https://www.instagram.com/profesionfeliz"
    ],
    "address": {
      "@type": "PostalAddress",
      "addressCountry": "CR"
    }
  }
  </script>
  
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-XXXXXXXXXX'); // GA4
  </script>
  
  <!-- Google Ads Conversion Tracking -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-16777250514"> </script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    
    // Configuración base de Google Ads
    gtag('config', 'AW-16777250514');
    
    // Tracking de conversión para vista de página
    gtag('event', 'conversion', {
      'send_to': 'AW-CONVERSION_ID/9kX6CK3TtuoZENKNgsA-',
      'page_path': window.location.pathname
    });
  </script>
  
   
</head>
<body>
  

    // src/html/cont-dual-pers-test.html

    <nav class="navbar navbar-expand-lg bg-white border-bottom">
      <div class="container-fluid">
    
      
        <!-- Logo -->
    <a class="navbar-brand" href="./index.html">
      <img class="navbar-brand-img" 
           src="./assets/img/pf_img/logopf.png" 
           alt="Profesión Feliz"
           style="height: 150px; width: auto;">
    </a>
        
    
    
    
        <!-- Botón hamburguesa para móvil -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        
        <!-- Contenido del menú -->
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <!-- Menú principal -->
          <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a class="nav-link" href="./index.html">Inicio</a>
            </li>
    
            <li class="nav-item">
              <a class="nav-link" href="./padres-orientacion-vocacional.html">Padres</a> 
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="./equipo-orientacion-vocacional.html">Somos</a>
            </li>
    
            <li class="nav-item">
              <a class="nav-link" href="./testimonios-eleccion-carrera.html">Testimonios</a>
            </li>
        
            <li class="nav-item">
              <a class="nav-link" href="./proceso-orientacion-vocacional.html">Proceso Exclusivo</a>
            </li>
    
            <!-- Recursos (Dropdown) -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarRecursos" 
                 data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Recursos
              </a>
              <div class="dropdown-menu dropdown-menu-md" aria-labelledby="navbarRecursos">
                <div class="list-group list-group-flush">
                  <a class="list-group-item" href="./blog.html">
                    <div class="icon icon-sm text-primary">
                      <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path d="M5.857 2h7.88a1.5 1.5 0 01.968.355l4.764 4.029A1.5 1.5 0 0120 7.529v12.554c0 1.79-.02 1.917-1.857 1.917H5.857C4.02 22 4 21.874 4 20.083V3.917C4 2.127 4.02 2 5.857 2z" fill="#335EEA" opacity=".3"/><rect fill="#335EEA" x="6" y="11" width="9" height="2" rx="1"/><rect fill="#335EEA" x="6" y="15" width="5" height="2" rx="1"/></g></svg>                </div>
                    <div class="ms-4">
                      <h6 class="fw-bold text-uppercase text-primary mb-0">Blog</h6>
                      <p class="fs-sm text-gray-700 mb-0">Artículos y recursos</p>
                    </div>
                  </a>
    
                  <a class="list-group-item" href="./preguntas-frecuentes-orientacion-vocacional.html">
                    <div class="icon icon-sm text-primary">
                      <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><circle fill="#335EEA" opacity=".3" cx="12" cy="12" r="10"/><path d="M12 16a1 1 0 110 2 1 1 0 010-2zm-1.409-1.132v-1.659h1.26c1.596 0 2.751-1.218 2.751-2.814s-1.155-2.814-2.751-2.814c-1.617 0-2.73 1.218-2.73 2.814H7.336c0-2.52 1.974-4.473 4.515-4.473 2.541 0 4.536 1.953 4.536 4.473 0 2.52-1.995 4.473-4.536 4.473h-1.26z" fill="#335EEA"/></g></svg>                </div>
                    <div class="ms-4">
                      <h6 class="fw-bold text-uppercase text-primary mb-0">FAQ</h6>
                      <p class="fs-sm text-gray-700 mb-0">Preguntas frecuentes.</p>
                    </div>
                  </a>
    
                  <!-- mini cursos  -->
    
                 
    
    
                </div>
              </div>
            </li>
        
            <!-- Contacto (Dropdown) -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarContacto" 
                 data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Contacto
              </a>
              <div class="dropdown-menu dropdown-menu-md" aria-labelledby="navbarContacto">
                <div class="list-group list-group-flush">
                  <a class="list-group-item" href="./contacto.html">
                    <div class="icon icon-sm text-primary">
                      <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><circle fill="#335EEA" opacity=".3" cx="12" cy="12" r="10"/><rect fill="#335EEA" x="11" y="10" width="2" height="7" rx="1"/><rect fill="#335EEA" x="11" y="7" width="2" height="2" rx="1"/></g></svg>                </div>
                    <div class="ms-4">
                      <h6 class="fw-bold text-uppercase text-primary mb-0">Solicita información</h6>
                      <p class="fs-sm text-gray-700 mb-0">Conoce más sobre nuestros servicios</p>
                    </div>
                  </a>
                  <a class="list-group-item" href="./contacto.html" data-bs-toggle="modal">
                    <div class="icon icon-sm text-primary">
                      <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path d="M6 2h12a1 1 0 011 1v9a1 1 0 01-1 1H6a1 1 0 01-1-1V3a1 1 0 011-1zm1.5 3a.5.5 0 000 1h6a.5.5 0 100-1h-6zm0 2a.5.5 0 000 1h3a.5.5 0 100-1h-3z" fill="#335EEA" opacity=".3"/><path d="M3.793 6.573L12 12.5l8.207-5.927a.5.5 0 01.793.405V17a2 2 0 01-2 2H5a2 2 0 01-2-2V6.978a.5.5 0 01.793-.405z" fill="#335EEA"/></g></svg>                </div>
                    <div class="ms-4">
                      <h6 class="fw-bold text-uppercase text-primary mb-0">Newsletter SignUp</h6>
                      <p class="fs-sm text-gray-700 mb-0">Recibe nuestras actualizaciones</p>
                    </div>
                  </a>
                  <a class="list-group-item" href="./contacto.html">
                    <div class="icon icon-sm text-primary">
                      <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><rect fill="#335EEA" x="4" y="16" width="4" height="4" rx="1"/><rect fill="#335EEA" x="4" y="10" width="4" height="4" rx="1"/><rect fill="#335EEA" x="10" y="16" width="4" height="4" rx="1"/><rect fill="#335EEA" opacity=".3" x="10" y="10" width="4" height="4" rx="1"/><rect fill="#335EEA" x="4" y="4" width="4" height="4" rx="1"/><rect fill="#335EEA" x="16" y="16" width="4" height="4" rx="1"/></g></svg>                </div>
                    <div class="ms-4">
                      <h6 class="fw-bold text-uppercase text-primary mb-0">Charlas Sign Up</h6>
                      <p class="fs-sm text-gray-700 mb-0">Inscríbete a nuestros eventos</p>
                    </div>
                  </a>
                  <a class="list-group-item" href="./contacto.html">
                    <div class="icon icon-sm text-primary">
                      <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path d="M18 14a3 3 0 110-6 3 3 0 010 6zm-9-3a4 4 0 110-8 4 4 0 010 8z" fill="#335EEA" opacity=".3"/><path d="M17.601 15c3.407.038 6.188 1.76 6.397 5.4.009.147 0 .6-.542.6H19.6c0-2.25-.744-4.328-1.999-6zm-17.6 5.2C.388 15.426 4.26 13 8.983 13c4.788 0 8.722 2.293 9.015 7.2.012.195 0 .8-.751.8H.727c-.25 0-.747-.54-.726-.8z" fill="#335EEA"/></g></svg>   <!--  charlas  devices/display-1  info  communication/sending-mail  -->
                    </div>
                    <div class="ms-4">
                      <h6 class="fw-bold text-uppercase text-primary mb-0">Solicita reunión</h6>
                      <p class="fs-sm text-gray-700 mb-0">Agenda una cita con nosotros</p>
                    </div>
                  </a>
                </div>
              </div>
            </li>
          </ul>
        
          <!-- Botón CTA -->
          <a class="navbar-btn btn btn-sm btn-success lift ms-auto" href="./contacto.html">
            Descubre tu vocación
          </a>
        </div>
        
    
      </div>
    </nav>

    <section>
    <div class="container d-flex flex-column">
        <div class="row align-items-center justify-content-between gx-0 min-vh-100">
        <div class="col-12 col-md-5 align-self-stretch">
            <!-- Image (mobile) -->
            <img src="./assets/img/pf_img/pf-img-contac-squ.jpg" class="d-md-none img-cover" alt="Contacto Profesión Feliz">

            <!-- Image (desktop) -->
            <div class="d-none d-md-block vw-50 h-100 float-end bg-cover"
            style="background-image: url(./assets/img/pf_img/pf-img-contac-port.jpg);">
            </div>
        </div>

        <div class="col-12 col-md-6 py-4 py-md-6">
            <!-- Título -->
            <h2 id="test-title" class="fw-bold text-center mb-2">
            Test Persistencia Dual
            </h2>
            <p class="text-center text-muted mb-6">
            Prueba de envío a Supabase y Make.com
            </p>

            <hr class="hr-sm mb-6 border-gray-300">

            <!-- Alertas de estado -->
            <div id="alertSuccess" class="alert alert-success d-none fade show" role="alert">
            <div class="d-flex">
                <div class="icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
                </div>
                <div class="ms-3" id="successMessage">
                ¡Gracias por contactarnos! Nos comunicaremos contigo pronto.
                </div>
            </div>
            <!-- Detalles del resultado -->
            <div class="mt-3 text-sm" id="resultDetails">
                <div id="supabaseResult" class="mb-2"></div>
                <div id="makeResult"></div>
            </div>
            </div>

            <div id="alertError" class="alert alert-danger d-none fade show" role="alert">
            <div class="d-flex">
                <div class="icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="12"></line>
                    <line x1="12" y1="16" x2="12.01" y2="16"></line>
                </svg>
                </div>
                <div class="ms-3" id="errorMessage">
                Hubo un error al enviar el formulario. Por favor, intenta nuevamente.
                </div>
            </div>
            </div>

            <!-- Formulario de prueba -->
            <form id="testForm">
            <!-- Email (requerido) -->
            <div class="form-group mb-5">
                <label for="email" class="form-label">
                Correo electrónico *
                </label>
                <input type="email" class="form-control" id="email" required>
                <div class="invalid-feedback"></div>
            </div>

            <!-- Tipo de usuario (requerido) -->
            <div class="form-group mb-5">
                <label for="tipoUsuario" class="form-label">
                Me identifico como *
                </label>
                <select class="form-select" id="tipoUsuario" required>
                <option value="">Seleccione una opción...</option>
                <option value="familiar_preocupado">Mamá/Papá/Familiar</option>
                <option value="explorador_ansioso">Estudiante de secundaria</option>
                <option value="estudiante_crisis">Estudiante universitario</option>
                <option value="buscador_proposito">Profesional</option>
                </select>
                <div class="invalid-feedback"></div>
            </div>

            <!-- Información opcional -->
            <div class="card card-border border-success pt-4 bg-gray-100 mb-5">
                <div class="card-body">
                <h6 class="mb-4">INFORMACIÓN OPCIONAL:</h6>

                <!-- Nombre -->
                <div class="form-group mb-4">
                    <label for="nombre" class="form-label">
                    Nombre
                    </label>
                    <input type="text" class="form-control" id="nombre">
                    <div class="invalid-feedback"></div>
                </div>

                <!-- Teléfono -->
                <div class="form-group mb-4">
                    <label for="telefono" class="form-label">
                    Teléfono
                    </label>
                    <input type="tel" class="form-control" id="telefono">
                    <div class="invalid-feedback"></div>
                </div>

                <!-- Mensaje -->
                <div class="form-group">
                    <label for="detalles" class="form-label">
                    Mensaje
                    </label>
                    <textarea class="form-control" id="detalles" rows="3"></textarea>
                </div>
                </div>
            </div>

            <!-- Botón de envío -->
            <div class="form-group mb-0">
                <button class="btn w-100 btn-primary" type="submit" id="submitButton">
                Probar Envío Dual
                </button>
            </div>
            </form>

        </div>
        </div>
    </div>
    </section>

    <!-- Map JS -->
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
    
    <!-- Vendor JS -->
    <script src="./assets/js/vendor.bundle.js"></script>
    
    <!-- Theme JS -->
    <script src="./assets/js/theme.bundle.js"></script>

    <!-- Script específico para pruebas -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.getElementById('testForm');
        const submitButton = document.getElementById('submitButton');
        
        form.addEventListener('submit', async function(e) {
            e.preventDefault();
            submitButton.disabled = true;
            
            try {
                const formData = {
                    email: document.getElementById('email').value,
                    tipo_usuario: document.getElementById('tipoUsuario').value,
                    nombre: document.getElementById('nombre').value || null,
                    telefono: document.getElementById('telefono').value || null,
                    detalles: document.getElementById('detalles').value || null,
                    aceptar_terminos: true
                };

                const response = await fetch('/api/contacto/test', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });

                const result = await response.json();

                // Mostrar resultados detallados
                document.getElementById('alertSuccess').classList.remove('d-none');
                document.getElementById('alertError').classList.add('d-none');
                
                // Mostrar detalles de Supabase
                document.getElementById('supabaseResult').innerHTML = `
                    <strong>Supabase:</strong> ${result.supabase.success ? '✅ Éxito' : '❌ Error'}
                    ${result.supabase.data ? `<br>ID: ${result.supabase.data.id}` : ''}
                `;

                // Mostrar detalles de Make.com
                document.getElementById('makeResult').innerHTML = `
                    <strong>Make.com:</strong> ${result.make.success ? '✅ Éxito' : '❌ Error'}
                    ${result.make.data ? `<br>Message: ${result.make.data.message}` : ''}
                `;

            } catch (error) {
                document.getElementById('alertSuccess').classList.add('d-none');
                document.getElementById('alertError').classList.remove('d-none');
                document.getElementById('errorMessage').textContent = 
                    'Error en el envío: ' + (error.message || 'Error desconocido');
            } finally {
                submitButton.disabled = false;
            }
        });
    });
    </script>

</body>

</html>
